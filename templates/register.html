{% extends "base.html" %}
{% block content %}

{% if request.args.get('updated') %}
<div id="update-toast" class="update-toast">
    ìµœì‹ í™” ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤ ğŸ‘
</div>
{% endif %}



<h1>ë§¤ë¬¼ë“±ë¡ ì‹œìŠ¤í…œ</h1>

<div class="card">

<div class="section-title">ë¹ ë¥¸ ë§¤ë¬¼ë“±ë¡</div>


<form method="POST">
<input type="hidden" name="form_type" value="quick">

<textarea name="raw_text" rows="8"
placeholder="ì˜ˆì‹œ:

ì— ì‹œê·¸ë‹ˆì²˜ 514í˜¸
ì „ìš©: 45.98í‰
ê³„ì•½: 104.89í‰
ì„ëŒ€: 4000/350"></textarea>

<br><br>

<button type="submit" class="primary-btn">ë“±ë¡</button>

</form>

</div>


<div class="card" style="margin-top:30px;">

<div class="section-title">ì—‘ì…€ ìµœì‹ í™” ì—…ë¡œë“œ</div>


<form method="POST" enctype="multipart/form-data">
<input type="hidden" name="form_type" value="excel">

<input type="file" name="file" required>
<br><br>
<button type="submit" class="primary-btn">ìµœì‹ í™” ì‹¤í–‰</button>

</form>

<hr>

<h3>í˜„ì¬ ë§¤ë¬¼ í˜„í™©</h3>

<p>ì „ì²´ ë§¤ë¬¼ : {{ total_count }} ê°œ</p>
<p>ì›”ì„¸ ë§¤ë¬¼ : {{ rent_count }} ê°œ</p>
<p>ë§¤ë§¤ ë§¤ë¬¼ : {{ sale_count }} ê°œ</p>

</div>


<style>
.primary-btn {
    width: 100%;
    height: 45px;
    background: #2d7ff9;
    color: white;
    font-size: 16px;
    border: none;
    border-radius: 10px;
    font-weight: bold;
    cursor: pointer;
}

textarea {
    width: 100%;
    padding: 14px;
    border-radius: 10px;
    border: 1px solid #ccc;
    font-size: 15px;
    box-sizing: border-box;
    resize: vertical;
}


.section-title {
    font-size: 32px;
    font-weight: 900;
    margin-bottom: 18px;
    padding: 12px 16px;
    border-radius: 10px;
    background: linear-gradient(to right, #eef4ff, transparent);
    border-left: 8px solid #2d7ff9;
    letter-spacing: -0.6px;
}

.card form {
    width: 100%;
}

.card {
    overflow: hidden;
}

@media (max-width: 600px) {
    .section-title {
        font-size: 24px;
        padding: 10px 12px;
    }
}


<style>
.update-toast{
    position:fixed;
    top:20px;
    left:50%;
    transform:translateX(-50%);
    background:#2d7ff9;
    color:white;
    padding:12px 22px;
    border-radius:12px;
    font-weight:600;
    box-shadow:0 8px 20px rgba(0,0,0,0.15);
    z-index:9999;
    opacity:0;
    animation:fadein 0.3s forwards;
}

@keyframes fadein{
    to{ opacity:1; }
}
</style>


</style>

<script>
document.addEventListener("DOMContentLoaded", function(){
    const toast = document.getElementById("update-toast");
    if(toast){
        setTimeout(()=>{
            toast.style.transition="opacity 0.5s";
            toast.style.opacity="0";
            setTimeout(()=> toast.remove(),500);
        },3000);
    }
});
</script>

{% endblock %}
